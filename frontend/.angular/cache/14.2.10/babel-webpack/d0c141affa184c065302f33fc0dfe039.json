{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/marko/OneDrive/Desktop/PIA Projekat 2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { USER_TYPES } from '@shared/consts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared/services/account.service\";\nimport * as i2 from \"@angular/router\";\n\nfunction HeaderComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Profil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8)(4, \"a\", 9);\n    i0.ɵɵtext(5, \"Li\\u010Dni podaci\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction HeaderComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵtext(1, \"Prijavi se\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HeaderComponent_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 11);\n    i0.ɵɵtext(1, \"Registruj se\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HeaderComponent_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_a_6_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(1, \"Odjavi se\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class HeaderComponent {\n  constructor(accountService, router) {\n    this.accountService = accountService;\n    this.router = router;\n    this.user_type = USER_TYPES.none;\n  }\n\n  get USER_TYPES() {\n    return USER_TYPES;\n  }\n\n  ngOnInit() {\n    this.user_subscription = this.accountService.user_change.subscribe(user_type => this.user_type = user_type);\n    this.user_type = this.accountService.user_type;\n  }\n\n  ngOnDestroy() {\n    this.user_subscription.unsubscribe();\n  }\n\n  logout() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.accountService.logout();\n\n      _this.router.navigate(['']);\n    })();\n  }\n\n}\n\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  decls: 7,\n  vars: 4,\n  consts: [[\"id\", \"header-left-side menu\"], [\"class\", \"header-menu-item\", 4, \"ngIf\"], [\"id\", \"header-right-side\"], [\"routerLink\", \"account/login\", 4, \"ngIf\"], [\"routerLink\", \"account/register\", 4, \"ngIf\"], [\"routerLink\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"header-menu-item\"], [1, \"header-menu-item-title\"], [1, \"header-menu-item-submenu\"], [\"routerLink\", \"account/info\"], [\"routerLink\", \"account/login\"], [\"routerLink\", \"account/register\"], [\"routerLink\", \"\", 3, \"click\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\")(1, \"div\", 0);\n      i0.ɵɵtemplate(2, HeaderComponent_div_2_Template, 6, 0, \"div\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, HeaderComponent_a_4_Template, 2, 0, \"a\", 3);\n      i0.ɵɵtemplate(5, HeaderComponent_a_5_Template, 2, 0, \"a\", 4);\n      i0.ɵɵtemplate(6, HeaderComponent_a_6_Template, 2, 0, \"a\", 5);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type != ctx.USER_TYPES.none);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == ctx.USER_TYPES.none);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type == ctx.USER_TYPES.none);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user_type != ctx.USER_TYPES.none);\n    }\n  },\n  styles: [\"header[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n\\r\\n    border-bottom: 1px var(--opal) solid;\\r\\n}\\r\\n\\r\\nhr[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n#header-left-side[_ngcontent-%COMP%], #header-right-side[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    gap: 5px;\\r\\n    padding: 5px;\\r\\n}\\r\\n\\r\\n.header-menu-item[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    z-index: 1;\\r\\n    padding: var(--button-padding);\\r\\n\\r\\n    cursor: default;\\r\\n    border: 2px solid var(--middle-blue-green);\\r\\n    \\r\\n}\\r\\n\\r\\n.header-menu-item-submenu[_ngcontent-%COMP%] {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n\\r\\n    flex-direction: column;\\r\\n    align-items: flex-start;\\r\\n\\r\\n    gap: 7px;\\r\\n    padding: 7px;\\r\\n\\r\\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\\r\\n    background-color: var(--black-olive);\\r\\n}\\r\\n\\r\\n.header-menu-item[_ngcontent-%COMP%]:hover {\\r\\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\\r\\n}\\r\\n\\r\\n.header-menu-item[_ngcontent-%COMP%]:hover   .header-menu-item-title[_ngcontent-%COMP%] {\\r\\n    background-color: var(--black-olive);\\r\\n}\\r\\n\\r\\n.header-menu-item[_ngcontent-%COMP%]:hover   .header-menu-item-title[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1COztJQUVuQixvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsY0FBYztBQUNsQjs7QUFFQTs7SUFFSSxhQUFhO0lBQ2IsUUFBUTtJQUNSLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLDhCQUE4Qjs7SUFFOUIsZUFBZTtJQUNmLDBDQUEwQzs7QUFFOUM7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLFVBQVU7O0lBRVYsc0JBQXNCO0lBQ3RCLHVCQUF1Qjs7SUFFdkIsUUFBUTtJQUNSLFlBQVk7O0lBRVosMkNBQTJDO0lBQzNDLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLGFBQWE7QUFDakIiLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoZWFkZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHZhcigtLW9wYWwpIHNvbGlkO1xyXG59XHJcblxyXG5ociB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4jaGVhZGVyLWxlZnQtc2lkZSxcclxuI2hlYWRlci1yaWdodC1zaWRlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBnYXA6IDVweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxufVxyXG5cclxuLmhlYWRlci1tZW51LWl0ZW0ge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgei1pbmRleDogMTtcclxuICAgIHBhZGRpbmc6IHZhcigtLWJ1dHRvbi1wYWRkaW5nKTtcclxuXHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1taWRkbGUtYmx1ZS1ncmVlbik7XHJcbiAgICBcclxufVxyXG5cclxuLmhlYWRlci1tZW51LWl0ZW0tc3VibWVudSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgei1pbmRleDogMjtcclxuXHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcblxyXG4gICAgZ2FwOiA3cHg7XHJcbiAgICBwYWRkaW5nOiA3cHg7XHJcblxyXG4gICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjI0KSAwcHggM3B4IDhweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJsYWNrLW9saXZlKTtcclxufVxyXG5cclxuLmhlYWRlci1tZW51LWl0ZW06aG92ZXIge1xyXG4gICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjI0KSAwcHggM3B4IDhweDtcclxufVxyXG5cclxuLmhlYWRlci1tZW51LWl0ZW06aG92ZXIgLmhlYWRlci1tZW51LWl0ZW0tdGl0bGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmxhY2stb2xpdmUpO1xyXG59XHJcblxyXG4uaGVhZGVyLW1lbnUtaXRlbTpob3ZlciAuaGVhZGVyLW1lbnUtaXRlbS10aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";AAIA,SAASA,UAAT,QAA2B,gBAA3B;;;;;;;ICFQC,+BAAmE,CAAnE,EAAmE,KAAnE,EAAmE,CAAnE;IACwCA;IAAMA;IAC1CA,+BAAsC,CAAtC,EAAsC,GAAtC,EAAsC,CAAtC;IACiCA;IAAYA;;;;;;IAoBjDA;IAAmEA;IAAUA;;;;;;IAC7EA;IAAsEA;IAAYA;;;;;;;;IAElFA;IAAwCA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAAiCA;IAASA;;;;ADhB1F,OAAM,MAAOC,eAAP,CAAsB;EAS1BC,YAAoBC,cAApB,EAA4DC,MAA5D,EAA0E;IAAtD;IAAwC;IAP5D,iBAAoBL,UAAU,CAACM,IAA/B;EAO+E;;EAJ1D,IAAVN,UAAU;IACnB,OAAOA,UAAP;EACD;;EAIDO,QAAQ;IACN,KAAKC,iBAAL,GAAyB,KAAKJ,cAAL,CAAoBK,WAApB,CAAgCC,SAAhC,CAA2CC,SAAD,IAAe,KAAKA,SAAL,GAAiBA,SAA1E,CAAzB;IACA,KAAKA,SAAL,GAAiB,KAAKP,cAAL,CAAoBO,SAArC;EACD;;EAEDC,WAAW;IACT,KAAKJ,iBAAL,CAAuBK,WAAvB;EACD;;EAEKC,MAAM;IAAA;;IAAA;MACV,MAAM,KAAI,CAACV,cAAL,CAAoBU,MAApB,EAAN;;MACA,KAAI,CAACT,MAAL,CAAYU,QAAZ,CAAqB,CAAC,EAAD,CAArB;IAFU;EAGX;;AAvByB;;;mBAAfb,iBAAeD;AAAA;;;QAAfC;EAAec;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ5BnB,+BAAQ,CAAR,EAAQ,KAAR,EAAQ,CAAR;MAEQA;MAqBJA;MACAA;MACIA;MACAA;MAEAA;MACJA;;;;MA3BmCA;MAAAA;MAuB3BA;MAAAA;MACAA;MAAAA;MAEAA;MAAAA","names":["USER_TYPES","i0","HeaderComponent","constructor","accountService","router","none","ngOnInit","user_subscription","user_change","subscribe","user_type","ngOnDestroy","unsubscribe","logout","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\marko\\OneDrive\\Desktop\\PIA Projekat 2\\frontend\\src\\app\\features\\header\\header.component.ts","C:\\Users\\marko\\OneDrive\\Desktop\\PIA Projekat 2\\frontend\\src\\app\\features\\header\\header.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { USER_TYPES } from '@shared/consts';\nimport { AccountService } from '@shared/services/account.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n\n  user_type: string = USER_TYPES.none;\n  user_subscription: Subscription;\n\n  public get USER_TYPES() {\n    return USER_TYPES; \n  }\n\n  constructor(private accountService: AccountService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.user_subscription = this.accountService.user_change.subscribe((user_type) => this.user_type = user_type);\n    this.user_type = this.accountService.user_type;\n  }\n\n  ngOnDestroy(): void {\n    this.user_subscription.unsubscribe();\n  }\n\n  async logout() {\n    await this.accountService.logout();\n    this.router.navigate(['']);\n  }\n\n}\n","<header>\n    <div id=\"header-left-side menu\">\n        <div class=\"header-menu-item\" *ngIf=\"user_type != USER_TYPES.none\">\n            <div class=\"header-menu-item-title\">Profil</div>\n            <div class=\"header-menu-item-submenu\">\n                <a routerLink=\"account/info\">Lični podaci</a>\n            </div>\n        </div>\n\n        <!--\n        <div class=\"header-menu-item\">\n            <div class=\"header-menu-item-title\">Radionice</div>\n            <div class=\"header-menu-item-submenu\">\n                <a routerLink=\"objects/show_all\">Sve</a>\n                <ng-container *ngIf=\"user_type == USER_TYPES.none\">\n                    <hr>\n                    \n                    <a routerLink=\"radionice/prikazi_listu\" [queryParams]=\"{tip: 'moje'}\">Moje</a>\n                    \n                </ng-container>\n            </div>\n        </div>\n        -->\n    </div>\n    <div id=\"header-right-side\">\n        <a *ngIf=\"user_type == USER_TYPES.none\" routerLink=\"account/login\">Prijavi se</a>\n        <a *ngIf=\"user_type == USER_TYPES.none\" routerLink=\"account/register\">Registruj se</a>\n\n        <a *ngIf=\"user_type != USER_TYPES.none\" (click)=\"logout()\" routerLink=\"\">Odjavi se</a>\n    </div>\n</header>"]},"metadata":{},"sourceType":"module"}